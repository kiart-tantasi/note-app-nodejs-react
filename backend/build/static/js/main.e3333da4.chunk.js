(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,n){e.exports={mainAuth:"Auth_mainAuth__2ZaZ0","two-buttons":"Auth_two-buttons__WhNwd",googleAuth:"Auth_googleAuth__3v-IN",googleA:"Auth_googleA__1NmnJ",toggleAuth:"Auth_toggleAuth__1_tZS",submitAuth:"Auth_submitAuth__3-hrr",logoutButton:"Auth_logoutButton__1Q9iA","spinner-ui":"Auth_spinner-ui__16gXx",labelUsernamePassword:"Auth_labelUsernamePassword__2VK9P",userName:"Auth_userName__2pbIz"}},17:function(e,t,n){e.exports={noTitle:"Note_noTitle__3yhs-",withTitle:"Note_withTitle__3Kw89","Item-block":"Note_Item-block__3tgU5","description-text":"Note_description-text__3dt3t","item-block-footer":"Note_item-block-footer__2wNfO","date-text":"Note_date-text__3BMF6","footer-buttons":"Note_footer-buttons__3r1ym","edit-link":"Note_edit-link__2Plr8","spinner-ui":"Note_spinner-ui__3dbuM","item-block-flex-container":"Note_item-block-flex-container__glae5","item-block-flex-footer":"Note_item-block-flex-footer__1Uvhb","item-block-flex-body":"Note_item-block-flex-body__27nY9","footer-date":"Note_footer-date__12Frm"}},26:function(e,t,n){e.exports={cursorNone:"AddNote_cursorNone__d9LIG",cursorPointer:"AddNote_cursorPointer__1F34S","Add-item":"AddNote_Add-item__3Vgbj","title-input":"AddNote_title-input__nPgHt","Two-input":"AddNote_Two-input__2V-Uv","spinner-ui":"AddNote_spinner-ui__118O-"}},27:function(e,t,n){e.exports={modalBackdrop:"EditModal_modalBackdrop__3QvLq",modalBox:"EditModal_modalBox__2wodi",modalInput:"EditModal_modalInput__3ITpW",modalTextarea:"EditModal_modalTextarea__11_oI",modalButtons:"EditModal_modalButtons__1PPq9","submit-button":"EditModal_submit-button__PTV1J","spinnng-div":"EditModal_spinnng-div__NnoNT"}},31:function(e,t,n){e.exports={"main-nav":"Nav_main-nav__3LSxB",route:"Nav_route__3xW3k","route-active":"Nav_route-active__24Xg2"}},38:function(e,t,n){e.exports={"pop-up":"Popup_pop-up__It1J7","button-container":"Popup_button-container__2DuHv",button:"Popup_button__1kBtq"}},45:function(e,t,n){e.exports={modalBackdrop:"AlertModal_modalBackdrop__gkwGj",modalBox:"AlertModal_modalBox__1E7Of",modalContent:"AlertModal_modalContent__3saFV"}},54:function(e,t,n){e.exports={footer:"Footer_footer__Uthdt"}},61:function(e,t,n){e.exports={notes:"Notes_notes__VPg_J"}},76:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(25),s=n.n(r),c=n(18),i=n(4),u=n(31),l=n.n(u),d=n(1);function f(){return Object(d.jsxs)("div",{className:l.a["main-nav"],children:[Object(d.jsx)(c.c,{className:function(e){return e.isActive?l.a["route-active"]:l.a.route},to:"/posts",children:"\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e2d\u0e34\u0e17"}),Object(d.jsx)(c.c,{className:function(e){return e.isActive?l.a["route-active"]:l.a.route},to:"/account",children:"\u0e1a\u0e31\u0e0d\u0e0a\u0e35"})]})}var b=n(54),j=n.n(b);function p(){return Object(d.jsx)("footer",{className:j.a.footer,children:Object(d.jsx)("p",{children:"Copyright 2022 \xa9 created and designed by Kiart Tantasi"})})}function m(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),e.children,Object(d.jsx)(p,{})]})}var O=n(11),h=n(8),x=n.n(h),g=n(12),_=n(5),v=n(45),N=n.n(v),w=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{onClick:e.onClose,className:" ".concat(N.a.modalBackdrop," close-modal")}),Object(d.jsxs)("div",{className:"".concat(N.a.modalBox," ").concat(N.a.modalContent),children:[Object(d.jsx)("h1",{children:e.message}),Object(d.jsx)("button",{onClick:e.onClose,children:"\u0e1b\u0e34\u0e14"})]})]})};function y(e){return Object(d.jsx)(d.Fragment,{children:s.a.createPortal(Object(d.jsx)(w,{message:e.message,onClose:e.onClose}),document.getElementById("modals"))})}var k=n(37),S=function(){return Object(k.b)()},I=k.c,P=n(22),A=n(20),C=Object(A.c)({name:"auth",initialState:{isLoggedIn:!1,userName:""},reducers:{logIn:function(e){e.isLoggedIn=!0},logOut:function(e){e.isLoggedIn=!1},setUserName:function(e,t){e.userName=t.payload}}}),T=C.actions,E=C.reducer,D=Object(A.c)({name:"loading",initialState:{main:!1},reducers:{turnOnIsLoading:function(e){e.main=!0},turnOffIsLoading:function(e){e.main=!1}}}),B=D.actions,L=D.reducer,J=Object(A.c)({name:"notification",initialState:{offlineNotificationIsClosed:!1,trialNotificationIsClosed:!1},reducers:{closeOfflineNotification:function(e){e.offlineNotificationIsClosed=!0},openOfflineNotification:function(e){e.offlineNotificationIsClosed=!1},closeTrialNotification:function(e){e.trialNotificationIsClosed=!0}}}),U=J.actions,M=J.reducer,F=Object(A.b)("posts/fetchPosts",Object(g.a)(x.a.mark((function e(){var t,n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/posts");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("cannot fetch posts");case 6:return e.next=8,t.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),o=e.t0,console.log(o.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))),R=Object(A.c)({name:"post",initialState:{posts:[]},reducers:{setPosts:function(e,t){e.posts=t.payload},addPost:function(e,t){e.posts=[].concat(Object(O.a)(e.posts),[{_id:t.payload.id,item:t.payload.item,des:t.payload.des,date:t.payload.date,pending:!1}])},deletePost:function(e,t){e.posts=e.posts.filter((function(e){return e._id!==t.payload}))},editPost:function(e,t){e.posts=e.posts.map((function(e){return e._id===t.payload.id?Object(P.a)(Object(P.a)({},e),{},{item:t.payload.item,des:t.payload.des,pending:!1}):e}))},turnPendingOn:function(e,t){e.posts=e.posts.map((function(e){return e._id===t.payload?Object(P.a)(Object(P.a)({},e),{},{pending:!0}):e}))}},extraReducers:function(e){e.addCase(F.fulfilled,(function(e,t){console.log(t.payload)}))}}),K=R.actions,q=R.reducer;function z(){for(var e="abcdefghijklmnopqrstuvwxyz",t=e.toUpperCase(),n=e+t+"1234567890",o="",a=0;a<30;a++)o+=n[Math.floor(Math.random()*n.length)];return o}var V=[{_id:z(),item:"\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e41\u0e23\u0e01\u0e02\u0e2d\u0e07\u0e09\u0e31\u0e19",des:"\u0e14\u0e39\u0e41\u0e25\u0e2a\u0e38\u0e02\u0e20\u0e32\u0e1e\u0e14\u0e49\u0e27\u0e22\u0e07\u0e31\u0e1a",date:(new Date).getTime(),pending:!1},{_id:z(),item:"\u0e1b\u0e23\u0e30\u0e0a\u0e38\u0e21\u0e40\u0e0a\u0e49\u0e32",des:"\u0e27\u0e31\u0e19\u0e1e\u0e38\u0e18 \u0e40\u0e02\u0e49\u0e32zoom\u0e01\u0e48\u0e2d\u0e19 10 \u0e42\u0e21\u0e07",date:(new Date).getTime(),pending:!1},{_id:z(),item:"\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c\u0e2b\u0e19\u0e49\u0e32",des:"\u0e17\u0e33 OT ...",date:(new Date).getTime(),pending:!1},{_id:z(),item:"\u0e2b\u0e22\u0e38\u0e14\u0e1b\u0e35\u0e43\u0e2b\u0e21\u0e48",des:"\u0e27\u0e31\u0e19\u0e28\u0e38\u0e01\u0e23\u0e4c\u0e2b\u0e19\u0e49\u0e32\u0e41\u0e25\u0e49\u0e27!",date:(new Date).getTime(),pending:!1}];function G(){var e=localStorage.getItem("myPostIt"),t=localStorage.getItem("myPostItUpdate");if(e&&t)return JSON.parse(e);if(e&&!t){var n=JSON.parse(e),o=Object(O.a)(n).reverse();return localStorage.setItem("myPostIt",JSON.stringify(o)),localStorage.setItem("myPostItUpdate",JSON.stringify({reversedArray:!0})),o}if(e)throw new Error("getting posts error.");return localStorage.setItem("myPostIt",JSON.stringify(V)),localStorage.setItem("myPostItUpdate",JSON.stringify({reversedArray:!0})),V}var H=function(){return function(){var e=Object(g.a)(x.a.mark((function e(t){var n,o,a,r,s,c,i,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B.turnOnIsLoading()),e.prev=1,e.next=4,fetch("/api/user",{credentials:"include"});case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("offline mode activated");case 7:return e.next=9,r.json();case 9:s=e.sent,n=s.posts,o=s.userName,a=!0,e.next=23;break;case 15:e.prev=15,e.t0=e.catch(1),c=G(),n=c,o="",a=!1,i=e.t0,console.log(i.message||"getting posts failed.");case 23:u=n.map((function(e){return Object(P.a)(Object(P.a)({},e),{},{pending:!1})})),t(K.setPosts(u)),t(a?T.logIn():T.logOut()),t(a?U.closeOfflineNotification():U.openOfflineNotification()),t(T.setUserName(o)),t(B.turnOffIsLoading());case 29:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()};function W(){var e=S(),t=function(){e(H())},n=Object(o.useState)(!1),a=Object(_.a)(n,2),r=a[0],s=a[1],c=Object(o.useState)(),i=Object(_.a)(c,2),u=i[0],l=i[1],d=Object(o.useState)(!1),f=Object(_.a)(d,2),b=f[0],j=f[1];function p(){return p=Object(g.a)(x.a.mark((function e(n){var o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item:n.item,des:n.des}),credentials:"include"},e.abrupt("return",fetch("/api/posts",o).then((function(e){if(e.ok)return e.json();throw 400===e.status?(s(!1),new Error("No information sent")):(t(),s(!1),new Error("No authentication"))})).then((function(e){return s(!1),l({id:e.id,date:e.date}),{id:e.id,date:e.date}})));case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function m(){return(m=Object(g.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),j(!1),e.abrupt("return",fetch("/api/posts/"+n.id.toString(),{method:"DELETE",credentials:"include"}).then((function(e){if(e.ok)return s(!1),j(!0),"success";throw 403===e.status?(t(),s(!1),j(!1),new Error("No authentication")):(t(),s(!1),j(!1),new Error("deleting failed."))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(g.a)(x.a.mark((function e(n){var o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),j(!1),o={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({item:n.item,des:n.des}),credentials:"include"},e.abrupt("return",fetch("/api/posts/"+n.id,o).then((function(e){if(e.ok)return s(!1),j(!0),"success";throw 400===e.status?(s(!1),j(!1),new Error("No information sent")):403===e.status?(s(!1),j(!1),t(),new Error("No authentication")):(s(!1),j(!1),t(),new Error("updating failed."))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{getPostsAndUserName:Object(o.useCallback)(Object(g.a)(x.a.mark((function e(){var t,n,o,a,r,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,fetch("/api/user",{credentials:"include"});case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("offline mode activated");case 7:return e.next=9,a.json();case 9:r=e.sent,t=r.posts,n=r.userName,o=!0,e.next=23;break;case 15:e.prev=15,e.t0=e.catch(1),c=G(),t=c,n=null,o=!1,i=e.t0,console.log(i.message||"getting posts failed.");case 23:return s(!1),l({posts:t,isLoggedIn:o,userName:n}),e.abrupt("return",{posts:t,isLoggedIn:o,userName:n});case 26:case"end":return e.stop()}}),e,null,[[1,15]])}))),[]),addPost:function(e){return p.apply(this,arguments)},editPost:function(e){return O.apply(this,arguments)},deletePost:function(e){return m.apply(this,arguments)},isLoading:r,data:u,success:b}}var Z=n(56),Q=n.n(Z),X=n(89),Y=n(26),$=n.n(Y);function ee(){var e=S(),t=I((function(e){return e.post.posts})),n=I((function(e){return e.auth.isLoggedIn})),a=Object(o.useRef)(null),r=Object(o.useRef)(null),s=Object(o.useState)(!1),c=Object(_.a)(s,2),i=c[0],u=c[1],l=Object(o.useState)(""),f=Object(_.a)(l,2),b=f[0],j=f[1],p=Object(o.useState)(!1),m=Object(_.a)(p,2),h=m[0],v=m[1],N=W().addPost,w=Object(o.useState)(!1),k=Object(_.a)(w,2),P=k[0],A=k[1];function C(){v(!1)}return window.onkeydown=function(e){h&&("Enter"!==e.key&&"Escape"!==e.key||(e.preventDefault(),C()))},Object(d.jsxs)(d.Fragment,{children:[h&&Object(d.jsx)(y,{message:b,onClose:C}),Object(d.jsxs)("div",{className:$.a["Add-item"],children:[Object(d.jsxs)("form",{onSubmit:function(o){if(o.preventDefault(),!1===i)return j("\u0e42\u0e1b\u0e23\u0e14\u0e23\u0e30\u0e1a\u0e38\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21"),void v(!0);var s=a.current.value.trim()||"",c=r.current.value.trim()||"";if(!s&&!c)return j("\u0e42\u0e1b\u0e23\u0e14\u0e23\u0e30\u0e1a\u0e38\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21"),void v(!0);if(s.length>25)return j("\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d\u0e22\u0e32\u0e27\u0e40\u0e01\u0e34\u0e19\u0e44\u0e1b"),void v(!0);if(0!==s.length&&c.length>95)return j("\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e22\u0e32\u0e27\u0e40\u0e01\u0e34\u0e19\u0e44\u0e1b"),void v(!0);if(0===s.length&&c.length>120)return j("\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e22\u0e32\u0e27\u0e40\u0e01\u0e34\u0e19\u0e44\u0e1b"),void v(!0);if(n){var u=function(){var t=Object(g.a)(x.a.mark((function t(){var n,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N({item:s,des:c});case 3:n=t.sent,e(K.addPost({id:n.id,item:s,des:c,date:n.date})),A(!1),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),o=t.t0,console.log(o.message),"No information sent"===o.message&&A(!1);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();A(!0),u()}else{var l=z(),d=(new Date).getTime(),f=[].concat(Object(O.a)(t),[{_id:l,item:s,des:c,date:d}]);localStorage.setItem("myPostIt",JSON.stringify(f)),e(K.addPost({id:l,item:s,des:c,date:d}))}a.current.value="",r.current.value="",r.current.focus()},children:[Object(d.jsxs)("div",{className:" ".concat($.a["Two-input"]," ").concat(i?$.a.cursorNone:$.a.cursorPointer),children:[i&&Object(d.jsx)("input",{className:$.a["title-input"],onKeyDown:function(e){"ArrowDown"===e.key&&(e.preventDefault(),r.current.focus())},type:"text",placeholder:"\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d (optional)",autoComplete:"off",ref:a}),Object(d.jsx)("input",{className:$.a["des-input"],onClick:function(){!1===i&&u(!0)},onKeyDown:function(e){"ArrowUp"===e.key&&(e.preventDefault(),a.current.focus())},type:"text",placeholder:"\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e2d\u0e34\u0e17 !",autoComplete:"off",ref:r})]}),!P&&Object(d.jsx)("button",{type:"submit",children:Object(d.jsx)(Q.a,{})})]}),P&&Object(d.jsx)(X.a,{color:"inherit",className:$.a["spinner-ui"]})]})]})}var te=n(59),ne=n.n(te);function oe(e){var t=S(),n=I((function(e){return e.post.posts})),a=I((function(e){return e.auth.isLoggedIn})),r=Object(o.useState)(!1),s=Object(_.a)(r,2),c=s[0],i=s[1],u=W().deletePost,l=e.id;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("button",{className:"delete-button",onClick:function(){if(a){i(!0);var e=function(){var e=Object(g.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({id:l.toString()});case 3:t(K.deletePost(l)),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n=e.t0,console.log(n.message||"delete request failed.");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();e()}else{var o=n.filter((function(e){return e._id.toString()!==l.toString()}));localStorage.setItem("myPostIt",JSON.stringify(o)),t(K.deletePost(l))}},children:[!c&&Object(d.jsx)(ne.a,{}),c&&Object(d.jsx)(X.a,{size:20,color:"inherit",className:e.classProp})]})})}var ae=n(60),re=n.n(ae),se=n(17),ce=n.n(se),ie=function(e){var t=new Date(e.date).getDate().toString()+"/"+(new Date(e.date).getMonth()+1).toString()+"/"+new Date(e.date).getFullYear().toString()||"no date described.";return Object(d.jsx)("div",{className:ce.a["Item-block"],children:Object(d.jsxs)("div",{className:ce.a["item-block-flex-container"],children:[Object(d.jsxs)("div",{className:ce.a["item-block-flex-body"],children:[Object(d.jsx)("h3",{children:e.item}),Object(d.jsx)("p",{className:" ".concat(ce.a["description-text"]," ").concat(""===e.item?ce.a.noTitle:ce.a.withTitle),children:e.des})]}),Object(d.jsxs)("div",{className:" ".concat(ce.a["item-block-footer"]," ").concat(ce.a["item-block-flex-footer"]," "),children:[Object(d.jsx)("div",{className:ce.a["footer-date"],children:Object(d.jsx)("p",{className:ce.a["date-text"],children:t})}),Object(d.jsxs)("div",{className:ce.a["footer-buttons"],children:[Object(d.jsx)(c.b,{className:ce.a["edit-link"],to:"/posts/edit/".concat(e.id),children:Object(d.jsx)("button",{children:Object(d.jsx)(re.a,{className:"edit-icon"})})}),Object(d.jsx)(oe,{id:e.id,classProp:ce.a["spinner-ui"]})]})]})]})})},ue=a.a.memo(ie),le=n(61),de=n.n(le);function fe(){var e=I((function(e){return e.post.posts})),t=Object(O.a)(e).reverse();return Object(d.jsx)("div",{className:de.a.notes,children:t.map((function(e){return Object(d.jsx)(ue,{id:e._id,item:e.item,des:e.des,date:e.date},e._id)}))})}var be=n(27),je=n.n(be);function pe(){var e=S(),t=I((function(e){return e.post})).posts,n=I((function(e){return e.auth})).isLoggedIn,a=Object(i.h)().postId,r=t.find((function(e){return e._id.toString()===a})),s=W().editPost,c=Object(i.g)(),u=Object(o.useRef)(null),l=Object(o.useRef)(null),f=Object(o.useState)({border:"1px solid rgba(0,0,0,0.5)"}),b=Object(_.a)(f,2),j=b[0],p=b[1],m=Object(o.useState)({border:"1px solid rgba(0,0,0,0.5)"}),O=Object(_.a)(m,2),h=O[0],v=O[1];function N(o){o&&o.preventDefault();var i=a,d=u.current.value.trim(),f=l.current.value.trim();function b(){p({border:"1px solid red"}),setTimeout((function(){p({border:"1px solid rgba(0,0,0,0.5)"})}),3e3)}function j(){v({border:"1px solid red"}),setTimeout((function(){v({border:"1px solid rgba(0,0,0,0.5)"})}),3e3)}if(d===r.item&&f===r.des)return console.log("no changes found."),void c("/posts");if(0===d.length&&0===f.length)return b(),void j();if(d.length>25&&f.length>95)return b(),void j();if(d.length>25)b();else if(f.length>95&&0!==d.length)j();else if(f.length>120&&0===d.length)j();else if(n){e(K.turnPendingOn(i));var m=function(){var t=Object(g.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s({item:d,des:f,id:i});case 3:e(K.editPost({id:i,item:d,des:f})),c("/posts",{replace:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),c("/posts",{replace:!0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();m()}else{var O=t.map((function(e){return e._id.toString()===i.toString()?Object(P.a)(Object(P.a)({},e),{},{item:d,des:f}):e}));localStorage.setItem("myPostIt",JSON.stringify(O)),e(K.editPost({id:i,item:d,des:f})),c("/posts",{replace:!0})}}function w(){c("/posts",{replace:!0})}return Object(o.useEffect)((function(){r&&!r.pending?(u.current.value=r.item||"",l.current.value=r.des||"",l.current.focus()):r||r.pending||console.log("loading data for editing...")}),[r]),window.onkeydown=function(e){"Escape"===e.key&&(e.preventDefault(),w())},Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{onClick:w,className:"backdrop-div ".concat(je.a.modalBackdrop)}),Object(d.jsx)("div",{className:je.a.modalBox,children:Object(d.jsxs)("form",{onSubmit:N,children:[Object(d.jsx)("input",{type:"text",ref:u,className:je.a.modalInput,style:j,onKeyDown:function(e){"ArrowDown"===e.key&&(e.preventDefault(),l.current.focus())}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),N())},ref:l,className:je.a.modalTextarea,style:h}),r.pending?Object(d.jsx)("div",{className:je.a["spinnng-div"],children:Object(d.jsx)(X.a,{size:35,color:"inherit"})}):Object(d.jsxs)("div",{className:je.a.modalButtons,children:[Object(d.jsx)("button",{type:"button",onClick:w,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(d.jsx)("button",{type:"submit",className:je.a["submit-button"],children:"\u0e41\u0e01\u0e49\u0e44\u0e02"})]})]})})]})}function me(){return Object(d.jsx)(d.Fragment,{children:s.a.createPortal(Object(d.jsx)(pe,{}),document.querySelector("#edit-modal"))})}function Oe(){return Object(d.jsx)(i.d,{children:Object(d.jsx)(i.b,{path:"edit",children:Object(d.jsx)(i.b,{path:":postId",element:Object(d.jsx)(me,{})})})})}var he=n(38),xe=n.n(he);function ge(e){return Object(d.jsxs)("div",{className:xe.a["pop-up"],children:[Object(d.jsx)("p",{children:e.children}),e.extraText&&Object(d.jsx)("p",{children:e.extraText}),Object(d.jsxs)("div",{className:xe.a["button-container"],children:[e.onConfirm&&Object(d.jsx)("button",{className:xe.a.button,onClick:e.onConfirm.fn,children:e.onConfirm.text}),Object(d.jsx)("button",{className:xe.a.button,onClick:e.onClick,children:"\u0e1b\u0e34\u0e14"})]})]})}function _e(){var e=S(),t=I((function(e){return e.notification.offlineNotificationIsClosed})),n=Object(i.g)(),o={fn:function(){n("/account")},text:"\u0e25\u0e2d\u0e07\u0e40\u0e25\u0e22!"};return Object(d.jsxs)(a.a.Fragment,{children:[!t&&Object(d.jsx)(ge,{onClick:function(){return e(U.closeOfflineNotification())},extraText:"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e42\u0e2b\u0e21\u0e14\u0e2d\u0e2d\u0e19\u0e44\u0e25\u0e19\u0e4c\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e23\u0e30\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e20\u0e32\u0e1e\u0e2a\u0e39\u0e07\u0e2a\u0e38\u0e14!",onConfirm:o,children:"\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e42\u0e2b\u0e21\u0e14\u0e2d\u0e2d\u0e1f\u0e44\u0e25\u0e19\u0e4c"}),Object(d.jsx)(ee,{}),Object(d.jsx)(fe,{}),Object(d.jsx)(Oe,{})]})}var ve=n(14),Ne=n.n(ve);function we(e){var t=Object(i.g)(),n=Object(o.useRef)(null),a=Object(o.useRef)(null),r=Object(o.useState)(!1),s=Object(_.a)(r,2),c=s[0],u=s[1],l=Object(o.useState)(""),f=Object(_.a)(l,2),b=f[0],j=f[1],p=Object(o.useState)(!1),m=Object(_.a)(p,2),O=m[0],h=m[1],x=Object(o.useState)(!1),g=Object(_.a)(x,2),v=g[0],N=g[1],w=Object(o.useState)(!1),k=Object(_.a)(w,2),P=k[0],A=k[1],C=S(),T=I((function(e){return e.notification.trialNotificationIsClosed})),E=I((function(e){return e.auth})),D=E.isLoggedIn,B=E.userName;function L(){h(!1)}return window.onkeydown=function(e){!0===O&&("Enter"!==e.key&&"Escape"!==e.key||(e.preventDefault(),L()))},D?Object(d.jsxs)("div",{className:Ne.a.mainAuth,children:[!P&&Object(d.jsx)("h1",{className:Ne.a.userName,children:B||""}),Object(d.jsx)("br",{}),!P&&Object(d.jsx)("button",{className:Ne.a.logoutButton,type:"button",onClick:function(){A(!0),fetch("/api/logout",{credentials:"include",method:"POST"}).then((function(t){if(!t.ok)throw e.onRefreshData(),new Error("failed logging out.");console.log("logged out successfully"),e.onRefreshData()})).catch((function(e){return console.log(e.message)}))},children:"\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a"}),P&&Object(d.jsx)(X.a,{color:"inherit",className:Ne.a["spinner-ui"]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]}):Object(d.jsxs)(d.Fragment,{children:[O&&Object(d.jsx)(y,{message:b,onClose:L}),!T&&Object(d.jsx)(ge,{onClick:function(){return C(U.closeTrialNotification())},extraText:"password = my_password_123",children:"\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 username = admin"}),Object(d.jsxs)("div",{className:Ne.a.mainAuth,children:[Object(d.jsxs)("button",{className:"".concat(Ne.a.toggleAuth," ").concat(Ne.a["two-buttons"]," "),onClick:function(){return u(!c)},children:["\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23",c?"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a":"\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("form",{onSubmit:function(o){o.preventDefault();var r=n.current.value,s=a.current.value;if(!r||!s)return j("\u0e42\u0e1b\u0e23\u0e14\u0e23\u0e30\u0e1a\u0e38 username \u0e41\u0e25\u0e30 password"),void h(!0);var i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:s}),credentials:"include"};c?(N(!0),fetch("/api/register",i).then((function(e){e.ok?(console.log("registered successfully"),n.current.value="",a.current.value="",N(!1),j("\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),h(!0),u(!1)):403===e.status?(N(!1),j("username \u0e19\u0e35\u0e49\u0e16\u0e39\u0e01\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e41\u0e25\u0e49\u0e27"),h(!0)):(N(!1),j("\u0e01\u0e32\u0e23\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e25\u0e49\u0e21\u0e40\u0e2b\u0e25\u0e27"),h(!0))}))):c||(N(!0),fetch("/api/login",i).then((function(n){n.ok?(console.log("logged in successfully"),e.onRefreshData(),t("/posts",{replace:!0})):401===n.status?(N(!1),j("username \u0e2b\u0e23\u0e37\u0e2d password \u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07"),h(!0)):(N(!1),j("\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e25\u0e49\u0e21\u0e40\u0e2b\u0e25\u0e27"),h(!0))})).catch((function(e){N(!1),console.log(e.message)})))},children:[Object(d.jsx)("label",{htmlFor:"username",className:Ne.a.labelUsernamePassword,children:"username"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",ref:n,name:"username",autoComplete:"off",onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),a.current.focus())}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"password",className:Ne.a.labelUsernamePassword,children:"password"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"password",ref:a,name:"password",autoComplete:"off"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),!v&&Object(d.jsx)("button",{className:"".concat(Ne.a.submitAuth," ").concat(Ne.a["two-buttons"]),type:"submit",children:c?"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19":"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"}),v&&Object(d.jsx)(X.a,{size:25,color:"inherit",className:Ne.a["spinner-ui"]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"button",className:Ne.a.googleAuth,children:Object(d.jsx)("a",{className:Ne.a.googleA,href:"/api/auth/google",children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a/\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e14\u0e49\u0e27\u0e22 GOOGLE ACCOUNT"})})]})]})]})}n(76);function ye(){var e=S(),t=I((function(e){return e.loading.main})),n=Object(o.useCallback)((function(){e(H())}),[e]);return Object(o.useEffect)((function(){n()}),[n]),t?Object(d.jsx)("div",{children:Object(d.jsx)("h1",{className:"loading-text",children:"LOADING..."})}):Object(d.jsx)("div",{className:"flex-container",children:Object(d.jsx)(m,{children:Object(d.jsx)("div",{className:"flex-main-body",children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/posts/*",element:Object(d.jsx)(_e,{})}),Object(d.jsx)(i.b,{path:"/account",element:Object(d.jsx)(we,{onRefreshData:n})}),Object(d.jsx)(i.b,{path:"/*",element:Object(d.jsx)(i.a,{to:"/posts"})})]})})})})}var ke=Object(A.a)({reducer:{auth:E,loading:L,notification:M,post:q}});s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(k.a,{store:ke,children:Object(d.jsx)(c.a,{children:Object(d.jsx)(ye,{})})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.e3333da4.chunk.js.map